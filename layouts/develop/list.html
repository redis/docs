{{ define "head" }}
  <script src='{{ relURL "js/cli.js" }}' defer></script>
  <script src='{{ relURL "js/codetabs.js" }}' defer></script>
{{ end }}

{{ define "main" }}
  <main class="docs w-full max-w-[1920px] mx-auto px-5 flex flex-col md:flex-row overflow-hidden">
    {{ partial "docs-nav.html" . }}
    <div class="w-full py-12 md:pl-4 xl:px-16 overflow-hidden">
      {{ partial "breadcrumbs" . }}
      <section class="prose w-full py-12 max-w-none">
        <h1>
          {{ .Title }}
        </h1>

        {{ with .Params.description }}<p class="text-lg -mt-5 mb-10">{{ . | markdownify }}</p>{{ end }}

        <!-- In-page banner -->
        {{ if .Params.bannerText }}
          <!-- Banner params are in the current page's front matter -->
          {{ partial "banner-article.html" . }}
        {{ else }}
          <!-- Iterate through the page's ancestors to determine if a
            section-wide banner is enabled by a parent page's front matter -->
          {{ $ancestorDirs := slice }}
          {{ with .File }}
            {{ $ancestorDirs = split .Dir "/" }}
          {{ end }}
          {{ $currPage := .Page }}
          {{ range $i, $page := $ancestorDirs }}
            {{ if and $currPage.Params.bannerText $currPage.Params.bannerChildren }}
              {{ partial "banner-article.html" $currPage }}
            {{ end }}
            {{ $currPage = $currPage.Parent }}
          {{ end }}
        {{ end }}

        <!-- Responsive CLI Display Block as Table -->
        {{ if strings.HasSuffix .RelPermalink "/develop/" }}
        <div class="overflow-x-auto">
          <table class="w-full border-collapse md:table bg-neutral-150">
            <thead>
              <tr>
                <th class="p-4 text-left">Try these Redis commands</th>
                <th class="p-4 text-left hidden md:table-cell">Redis CLI</th>
              </tr>
            </thead>
            <tbody>
              <tr class="flex flex-col md:table-row">
                <td class="align-top p-4 w-full md:w-[40%] text-base font-mono">
                  <code><a href="/commands/ping">PING</a></code></br>
                  <code><a href="/commands/hset">HSET</a> user:1 name antirez vocation artist</code></br>
                  <code><a href="/commands/hgetall">HGETALL</a> user:1</code></br>
                  <code><a href="/commands/set">SET</a> e 2.71</code></br>
                  <code><a href="/commands/incrbyfloat">INCRBYFLOAT</a> e 0.43</code></br>
                  <code><a href="/commands/rename">RENAME</a> e pi</code></br>
                  <code><a href="/commands/get">GET</a> pi</code><br/><br/>
                  # <a href="/commands/">See all commands</a>
                </td>
                <td class="align-top p-4 w-full md:w-[60%]">
                  <div class="bg-stone-50 rounded-xl shadow-lg shadow-slate-200/20 h-60 overflow-y-auto">
                    <div class="bg-slate-100 border-b border-slate-300 rounded-t-xl px-4 py-3 w-full flex items-center">
                      <svg class="shrink-0 h-5 w-5 mr-3" viewBox="0 0 156.0529938 144" xmlns="http://www.w3.org/2000/svg">
                        <path class="st0" d="M147.670166,79.4482727c-10.7946014,13.6012039-22.452774,29.1454315-45.7691193,29.1454315
                          c-20.8268356,0-28.5858765-18.3700104-29.1313019-33.2931824c4.5630417,9.6490479,13.4846115,17.4628525,27.4041672,17.1012802
                          c26.7706146-0.8635712,45.1214371-25.0434799,45.1214371-47.0644722C145.2953491,18.9985008,125.6491776,0,91.5382309,0
                          C67.1424255,0,36.9175415,9.2833586,17.0554714,23.9640179c-0.2158909,15.1124439,8.2038994,34.7586212,11.226387,32.5997009
                          c17.21908-12.3804817,30.8731976-20.3501434,44.1166153-24.3462563C52.7944603,54.0785866,5.7588782,104.8391037,0,113.775116
                          C0.6476762,121.9790115,10.7946024,144,15.7601204,144c1.5112438,0,2.8065968-0.8635712,4.3178406-2.3748169
                          c14.1801453-15.9326324,25.7396469-30.2172928,36.0215034-43.985733
                          c1.443779,20.1794739,11.366806,44.8493042,39.1089325,44.8493042c24.8275833,0,49.4392776-17.9190369,60.6656723-58.2908554
                          C157.1694183,79.2323837,151.1244354,75.3463287,147.670166,79.4482727z M119.3883057,46.8485756
                          c0,12.7376328-12.5217361,18.9985008-23.9640198,18.9985008c-6.1162338,0-10.8146286-1.6060638-14.5303345-3.6929359
                          c6.8368607-10.3524857,13.6045761-20.9680939,20.8757477-32.3321533
                          C114.5906143,31.9920292,119.3883057,39.1185226,119.3883057,46.8485756z" fill="#FF4438"/>
                      </svg>

                    </div>
                    <form class="redis-cli" typewriter>
                      <pre tabindex="0" class="whitespace-pre">
PING
                      </pre>
                    </form>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        {{ end }}

        {{ .Content }}
        {{ if not .Params.hideListLinks }}
          <nav>
            {{ range .CurrentSection.Pages }}
              <a href="{{ .RelPermalink }}"{{ with .Params.manualLinkTitle }} title="{{ . }}"{{ end }}{{ with .Params.manualLinkTarget }} target="{{ . }}"{{ if eq . "_blank" }} rel="noopener"{{ end }}{{ end }}>{{- .Title -}}</a>
              {{ if .Description }}
                <p>{{ .Description | markdownify }}</p>
              {{ else }}
                <br /><br />
              {{ end }}
            {{ end }}
          </nav>
        {{ end }}
        {{ partial "feedback.html" . }}
      </section>
    </div>

    {{ if not .Params.hideTOC }}
      {{ partial "docs-toc.html" . }}
    {{ end }}
    {{ partial "scripts.html" . }}
  </main>
{{ end }}
