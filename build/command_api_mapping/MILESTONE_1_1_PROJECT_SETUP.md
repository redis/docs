# Milestone 1.1: Project Setup & Build Pipeline\n\n## Objective\n\nCreate the basic project structure for a hybrid Rust WASM + Node.js MCP server. Both projects should build successfully and be ready for development.\n\n## Prerequisites\n\n- Rust toolchain installed (rustc, cargo)\n- Node.js 18+ installed\n- npm or yarn installed\n- wasm-pack installed (`cargo install wasm-pack`)\n- Basic familiarity with Rust and Node.js\n\n## Tasks\n\n### 1. Create Rust WASM Library Project\n\n- [ ] Create directory: `build/command_api_mapping/mcp-server/rust`\n- [ ] Initialize Rust project: `cargo init --lib`\n- [ ] Create `Cargo.toml` with:\n  - `wasm-bindgen` dependency\n  - `serde` and `serde_json` dependencies\n  - `[lib]` section with `crate-type = [\"cdylib\"]`\n  - `[profile.release]` with optimization settings\n- [ ] Create basic `src/lib.rs` with a simple test function\n- [ ] Verify it compiles: `cargo build`\n- [ ] Verify WASM compilation: `wasm-pack build --target nodejs`\n\n### 2. Create Node.js MCP Server Project\n\n- [ ] Create directory: `build/command_api_mapping/mcp-server/node`\n- [ ] Initialize Node.js project: `npm init -y`\n- [ ] Create `package.json` with:\n  - `@modelcontextprotocol/sdk` dependency\n  - `typescript` dev dependency\n  - `@types/node` dev dependency\n  - `tsx` dev dependency (for running TypeScript)\n  - Build scripts for TypeScript compilation\n- [ ] Create `tsconfig.json` with appropriate settings\n- [ ] Create `src/` directory for TypeScript source\n- [ ] Create basic `src/index.ts` that imports MCP SDK\n- [ ] Verify it compiles: `npm run build`\n\n### 3. Set Up Build Pipeline\n\n- [ ] Create root `build/command_api_mapping/mcp-server/package.json` that:\n  - References both Rust and Node.js projects\n  - Has a `build` script that builds both\n  - Has a `dev` script for development\n  - Has a `clean` script to clean both\n- [ ] Create `build/command_api_mapping/mcp-server/Makefile` (optional) with:\n  - `make build` - build both projects\n  - `make clean` - clean both projects\n  - `make dev` - run in development mode\n- [ ] Create `.gitignore` for:\n  - Rust: `target/`, `Cargo.lock`\n  - Node.js: `node_modules/`, `dist/`, `.env`\n  - WASM: `wasm/pkg/`\n\n### 4. Verify Build Pipeline\n\n- [ ] From root `mcp-server/` directory, run `npm run build`\n- [ ] Verify Rust project builds successfully\n- [ ] Verify Node.js project builds successfully\n- [ ] Verify WASM binary is generated in `wasm/pkg/`\n- [ ] Verify TypeScript compiles to `dist/`\n- [ ] Verify no errors or warnings\n\n### 5. Create Project Documentation\n\n- [ ] Create `build/command_api_mapping/mcp-server/README.md` with:\n  - Project overview\n  - Prerequisites\n  - Build instructions\n  - Development workflow\n  - Project structure\n- [ ] Create `build/command_api_mapping/mcp-server/DEVELOPMENT.md` with:\n  - How to set up development environment\n  - How to build and run\n  - How to debug\n  - Common issues and solutions\n\n## Deliverables\n\n✅ **Rust WASM library project** that compiles successfully\n✅ **Node.js MCP server project** that compiles successfully\n✅ **Build pipeline** that builds both projects\n✅ **Project structure** ready for development\n✅ **Documentation** for developers\n\n## Project Structure\n\nAfter completion, the structure should look like:\n\n```\nbuild/command_api_mapping/mcp-server/\n├── package.json                    # Root package.json\n├── Makefile                        # Build automation (optional)\n├── README.md                       # Project overview\n├── DEVELOPMENT.md                  # Development guide\n├── .gitignore\n├── rust/\n│   ├── Cargo.toml\n│   ├── Cargo.lock\n│   └── src/\n│       └── lib.rs\n├── node/\n│   ├── package.json\n│   ├── tsconfig.json\n│   ├── src/\n│   │   └── index.ts\n│   └── dist/                       # Generated\n└── wasm/\n    └── pkg/                        # Generated by wasm-pack\n```\n\n## Success Criteria\n\n- [ ] Rust project builds without errors\n- [ ] Node.js project builds without errors\n- [ ] WASM binary is generated successfully\n- [ ] TypeScript compiles to JavaScript\n- [ ] Build pipeline works from root directory\n- [ ] Project structure is clean and organized\n- [ ] Documentation is clear and complete\n\n## Notes\n\n- Keep the Rust and Node.js projects separate for clarity\n- Use a root `package.json` to orchestrate builds\n- Consider using `wasm-pack` for automatic WASM compilation\n- Document any deviations from this plan\n\n## When Complete\n\n1. Verify all success criteria are met\n2. Return to `IMPLEMENTATION_PLAN.md`\n3. Check off this milestone: `- [x] **Milestone 1.1**: Project Setup & Build Pipeline`\n4. Update status to \"Complete\"\n5. Move to **Milestone 1.2**: Basic WASM Module & Node.js Integration\n"
